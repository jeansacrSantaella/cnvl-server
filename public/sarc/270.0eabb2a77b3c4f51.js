"use strict";(self.webpackChunksarc=self.webpackChunksarc||[]).push([[270],{8725:(x,_,s)=>{s.d(_,{G:()=>R});var h=s(646),c=s(433),t=s(1571),u=s(529),p=s(2340);let f=(()=>{class o{constructor(a){this.http=a,this.headers=new u.WM}getAmbitos(a){let e=`${p.N.catalogsms}actores/get-by-keywords`,i=new u.LE;return i=i.append("palabrasClaves",a),this.http.get(e,{params:i})}getPeriodo(a){let e=`${p.N.catalogsms}periodo/get-by-lstid`,i=new u.LE;return i=i.append("sid",a),this.http.get(e,{params:i})}getPartidos(a){let e=`${p.N.catalogsms}partido-politico/get-by-lstid`,i=new u.LE;return i=i.append("sid",a),this.http.get(e,{params:i})}consultarArchivos(a,e,i,n){let l=`${p.N.catalogsms}nombre/buscador`,d=new u.LE;return"undefined"!==e&&(d=d.append("idActor",e)),"undefined"!==i&&(d=d.append("idPeriodo",i)),"undefined"!==n&&(d=d.append("idPartidoPolitico",n)),d=d.append("palabrasClave",a),this.http.get(l,{params:d})}consultarArchivosSoloPalabras(a){let e=`${p.N.catalogsms}nombre/buscador`,i=new u.LE;return i=i.append("palabrasClave",a),this.http.get(e,{params:i})}obtenerPeriodosSenadoyDiputados(a,e){let i=`${p.N.catalogsms}periodo/filtro-periodo`,n=new u.LE;return"undefined"!=e&&(n=n.append("idActor",e)),n=n.append("palabrasClave",a),this.http.get(i,{params:n})}obtenerPartidosSenadoyDiputados(a,e){let i=`${p.N.catalogsms}partido-politico/get-by-lstid`,n=new u.LE;return n=n.append("sid",e),n=n.append("palabrasClaves",a),this.http.get(i,{params:n})}obtenerParitdosPorAmbito(a,e,i,n){let l=`${p.N.catalogsms}partido-politico/filtro-partidos`,d=new u.LE;return d=d.append(1==i&&null!=i&&void 0!==i?"idActor":"idN1",e),null!==n&&(d=d.append("idPeriodo",n)),d=d.append("palabrasClave",a),this.http.get(l,{params:d})}obtenerPartidosPorAmbitosyPalabras(a,e,i){let n=`${p.N.catalogsms}partido-politico/filtro-partidos`,l=new u.LE;return"undefined"!==e&&(l=l.append("idActor",e)),"undefined"!==i&&(l=l.append("idPeriodo",i)),l=l.append("palabrasClave",a),this.http.get(n,{params:l})}}return o.\u0275fac=function(a){return new(a||o)(t.LFG(u.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var g=s(5226),v=s.n(g);let m=(()=>{class o{constructor(a){this.http=a}getDocs(a){return this.http.post(`${p.N.mcsvn}`,{path:a},{headers:new u.WM({"Content-Type":"application/json"}),responseType:"arraybuffer",observe:"response"})}abrirPDF(a){this.getDocs(a).subscribe(e=>{const i=new Blob([e.body],{type:"application/pdf"}),n=URL.createObjectURL(i);window.open(n,"_blank")},e=>{v().fire({icon:"error",title:"Error",text:"Error al obtener el pdf"})})}}return o.\u0275fac=function(a){return new(a||o)(t.LFG(u.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var A=s(6189),b=s(6895),C=s(8462),P=s(1165),Z=s(2386);function T(o,r){1&o&&(t.TgZ(0,"div"),t._UZ(1,"img",36),t.qZA()),2&o&&(t.xp6(1),t.Q6J("src","assets/img/loader.gif",t.LSH))}function y(o,r){if(1&o&&(t.TgZ(0,"tr")(1,"th",37)(2,"label"),t._uU(3),t.qZA()()()),2&o){const a=t.oxw();t.xp6(3),t.Oqu(a.mensajeNoencontrados)}}function z(o,r){if(1&o){const a=t.EpF();t.TgZ(0,"tr")(1,"p",38),t.NdJ("click",function(){const n=t.CHM(a).$implicit,l=t.oxw();return t.KtG(l.abrirPDF(n.ruta))}),t._UZ(2,"em",39),t.TgZ(3,"strong"),t._uU(4),t.qZA()()()}if(2&o){const a=r.$implicit;t.xp6(4),t.Oqu(a.nombre)}}function B(o,r){if(1&o){const a=t.EpF();t.TgZ(0,"ngb-pagination",40),t.NdJ("pageChange",function(i){t.CHM(a);const n=t.oxw();return t.KtG(n.paginaActual=i)})("pageChange",function(){t.CHM(a);const i=t.oxw();return t.KtG(i.cambiarPagina())}),t.qZA()}if(2&o){const a=t.oxw();t.Q6J("collectionSize",a.datos)("page",a.paginaActual)("pageSize",a.tamanioPag)("maxSize",a.cantPag)}}function w(o,r){1&o&&t._UZ(0,"em",41)}function M(o,r){1&o&&t._UZ(0,"em",42)}function k(o,r){if(1&o&&(t.TgZ(0,"label",43),t._uU(1),t.qZA()),2&o){const a=t.oxw();t.xp6(1),t.hij(" ",a.mensajeNoencontrados," ")}}function O(o,r){if(1&o){const a=t.EpF();t.TgZ(0,"div",44)(1,"div",45)(2,"input",46),t.NdJ("click",function(){const n=t.CHM(a).$implicit,l=t.oxw();return t.KtG(l.onCheckboxAmbito(n.id))}),t.qZA(),t.TgZ(3,"label",47),t._uU(4),t.qZA()()()}if(2&o){const a=r.$implicit;t.xp6(2),t.s9C("value",a.id),t.xp6(2),t.Oqu(a.nombre)}}function N(o,r){if(1&o&&(t.TgZ(0,"label",43),t._uU(1),t.qZA()),2&o){const a=t.oxw();t.xp6(1),t.hij(" ",a.mensajeNoencontrados," ")}}function F(o,r){if(1&o){const a=t.EpF();t.TgZ(0,"div",44)(1,"div",45)(2,"input",48),t.NdJ("click",function(){const n=t.CHM(a).$implicit,l=t.oxw();return t.KtG(l.onCheckboxPeriodo(n.id))}),t.qZA(),t.TgZ(3,"label",47),t._uU(4),t.qZA()()()}if(2&o){const a=r.$implicit;t.xp6(2),t.s9C("value",a.id),t.xp6(2),t.AsE("",a.inicio,"-",a.fin," ")}}function J(o,r){if(1&o&&(t.TgZ(0,"label",43),t._uU(1),t.qZA()),2&o){const a=t.oxw();t.xp6(1),t.hij(" ",a.mensajeNoencontrados," ")}}function E(o,r){if(1&o){const a=t.EpF();t.TgZ(0,"div",44)(1,"div",45)(2,"input",49),t.NdJ("click",function(){const n=t.CHM(a).$implicit,l=t.oxw();return t.KtG(l.onCheckboxPartido(n.id))}),t.qZA(),t.TgZ(3,"label",47),t._uU(4),t.qZA()()()}if(2&o){const a=r.$implicit;t.xp6(2),t.s9C("value",a.id),t.xp6(2),t.Oqu(a.nombre)}}function S(o,r){1&o&&(t.TgZ(0,"div"),t._UZ(1,"img",36),t.qZA()),2&o&&(t.xp6(1),t.Q6J("src","assets/img/loader.gif",t.LSH))}function U(o,r){if(1&o&&(t.TgZ(0,"tr")(1,"th",37)(2,"label"),t._uU(3),t.qZA()()()),2&o){const a=t.oxw();t.xp6(3),t.Oqu(a.mensajeNoencontrados)}}function L(o,r){if(1&o){const a=t.EpF();t.TgZ(0,"tr")(1,"p",50),t.NdJ("click",function(){const n=t.CHM(a).$implicit,l=t.oxw();return t.KtG(l.abrirPDF(n.ruta))}),t._UZ(2,"em",39),t.TgZ(3,"strong"),t._uU(4),t.qZA()()()}if(2&o){const a=r.$implicit;t.xp6(4),t.Oqu(a.nombre)}}function q(o,r){if(1&o){const a=t.EpF();t.TgZ(0,"ngb-pagination",40),t.NdJ("pageChange",function(i){t.CHM(a);const n=t.oxw();return t.KtG(n.paginaActual=i)})("pageChange",function(){t.CHM(a);const i=t.oxw();return t.KtG(i.cambiarPagina())}),t.qZA()}if(2&o){const a=t.oxw();t.Q6J("collectionSize",a.datos)("page",a.paginaActual)("pageSize",a.tamanioPag)("maxSize",a.cantPag)}}let I=(()=>{class o{constructor(a,e,i,n){this.formBuilder=a,this.consultas=e,this.Pdfservice=i,this.alertas=n,this.datos=30,this.paginaActual=1,this.tamanioPag=10,this.cantPag=3,this.listadoArchivos=[],this.datosPaginados=[],this.ambitos=[],this.periodos=[],this.partidos=[],this.desplegarFiltro=!1,this.isReady=!1,this.mensajeNoencontrados="No se encontraron coincidencias",this.buildForm(),this.verificarStorage()?""!==JSON.stringify(localStorage.getItem("palabarasBuscador")).trim().replace(/['"]+/g,"")&&(this.formGroup.patchValue({palabras:JSON.stringify(localStorage.getItem("palabarasBuscador")).trim().replace(/['"]+/g,"")}),this.buscarPalabras()):(this.cargarAmbitos(),this.cargarPeriodos(),this.cargarPartidos())}ngOnInit(){}buildForm(){this.formGroup=this.formBuilder.group({palabras:["",[c.kI.maxLength(150),c.kI.minLength(2)]]})}verificarStorage(){return""!==JSON.stringify(localStorage.getItem("palabarasBuscador")).trim().replace(/['"]+/g,"")}buscarPalabras(){this.validarFiltros()?(this.cargarAmbitos(),this.cargarPeriodos(),this.cargarPartidos(),this.cargarArchivos()):this.alertas.lanzarError("Seleccionar una opci\xf3n de los filtros para realizar la b\xfasqueda o agregar al menos dos caracteres","Error en filtros")}validarFiltros(){let{palabras:a,ambito:e,periodo:i,partido:n}=this.formGroup.value;return""!==a.trim()||e||i||n}cargarAmbitos(){this.ambitos=[],this.consultas.getAmbitos(this.formGroup.get("palabras")?.value).subscribe(a=>{this.ambitos=a},a=>{this.ambitos=[]})}cargarPeriodos(){this.periodos=[];let a=this.idAmbito?this.idAmbito:"undefined";this.consultas.obtenerPeriodosSenadoyDiputados(this.formGroup.get("palabras")?.value,a).subscribe(e=>{this.periodos=this.periodos.concat(e)},e=>{this.periodos=[]})}cargarPartidos(){this.partidos=[];let a=this.idAmbito?this.idAmbito:"undefined",e=this.idPeriodo?this.idPeriodo:"undefined";this.consultas.obtenerPartidosPorAmbitosyPalabras(this.formGroup.get("palabras")?.value,a,e).subscribe(i=>{this.partidos=this.partidos.concat(i)},i=>{this.partidos=[]})}cargarArchivos(){this.listadoArchivos=[],this.isReady=!0;let a=this.idAmbito?this.idAmbito:"undefined",e=this.idPeriodo?this.idPeriodo:"undefined",i=this.idPartido?this.idPartido:"undefined";this.consultas.consultarArchivos(this.formGroup.get("palabras")?.value,a,e,i).subscribe(n=>{this.listadoArchivos=n,this.datos=this.listadoArchivos.length,this.cantPag=Math.round(this.listadoArchivos.length/10)>3?3:Math.round(this.listadoArchivos.length/10),this.cambiarPagina(),this.isReady=!1},n=>{this.isReady=!1,this.listadoArchivos=[],this.datosPaginados=[],this.ambitos=[],this.periodos=[],this.partidos=[]})}onCheckboxAmbito(a){this.idAmbito=a,this.idPeriodo=null,this.idPartido=null,this.cargarPeriodos(),this.cargarPartidos(),this.cargarArchivos()}onCheckboxPeriodo(a){this.idPeriodo=a,this.idPartido=null,this.cargarPartidos(),this.cargarArchivos()}onCheckboxPartido(a){this.idPartido=a,this.cargarArchivos()}convertirNumero(a){return parseInt(a)}abrirPDF(a){this.isReady=!0,this.Pdfservice.abrirPDF(a),this.isReady=!1}desplegarFiltros(){this.desplegarFiltro=!this.desplegarFiltro}limpiarFiltros(){this.formGroup.patchValue({palabras:""}),this.listadoArchivos=[],this.datosPaginados=[],this.idAmbito=null,this.idPeriodo=null,this.idPartido=null,this.cargarAmbitos(),this.cargarPeriodos(),this.cargarPartidos()}cambiarPagina(){this.datosPaginados=this.listadoArchivos.slice((this.paginaActual-1)*this.tamanioPag,(this.paginaActual-1)*this.tamanioPag+this.tamanioPag)}}return o.\u0275fac=function(a){return new(a||o)(t.Y36(c.qu),t.Y36(f),t.Y36(m),t.Y36(A.e))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-buscador-avanzado"]],decls:79,vars:22,consts:[[3,"showBack"],[1,"wrapper","flex-grow-1"],[1,"container"],[1,"row"],[1,"col-12","col-sm-12","col-md-7","col-lg-8","col-xl-8","col-xxl-8","custom-h","overflow-y-auto"],[1,"d-none","d-md-block","formulario","m-2"],[1,"titulo","test-dark","fw-bolder","ms-2"],[1,"m-1","buscador",3,"formGroup"],[1,"d-flex","align-items-center","form-group","border-0"],["type","button","disabled","",1,"btn","disabled","border-0","shadow-none","d-flex","justify-content-center","align-items-center"],[1,"bi","bi-search"],["type","search","placeholder","Palabra(s) clave(s)","formControlName","palabras",1,"form-control","border-0","shadow-none",3,"keyup.enter"],[1,"d-block","text-end","titulo","fw-bolder","text-dark"],[1,"d-none","d-md-block","titulo"],[1,"fw-bold"],[4,"ngIf"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[1,"d-flex","flex-column","align-items-center"],["class","mt-auto p-2",3,"collectionSize","page","pageSize","maxSize","pageChange",4,"ngIf"],[1,"col-12","col-md-5","col-lg-4","col-xl-4","col-xxl-4","py-3"],[1,"w-100"],["data-bs-toggle","collapse","aria-expanded","true","aria-controls","collapse-1","href","#collapse-1","role","button",1,"btn","btn-primary","d-md-none","d-lg-none","d-xl-none","d-xxl-none","w-100",3,"click"],["class","bi bi-caret-down-square",4,"ngIf"],["class","bi bi-caret-up-square",4,"ngIf"],[1,"mb-3","m-1"],["id","collapse-1",1,"collapse","show"],[1,"d-md-none","d-lg-none","d-xl-none","d-xxl-none"],[1,"text-center","d-block","mt-4","titulo","fw-bolder"],[1,"text-center","d-block","my-3","titulo","fw-bolder","tituloFiltros"],["class","form-check-label titulo d-block text-center","for","formCheck-9",4,"ngIf"],[1,"div-padre"],["class","form-check div-hijo my-1",4,"ngFor","ngForOf"],[1,"d-block","text-center","titulo","fw-bolder","text-dark",3,"click"],[1,"col","d-md-none","d-lg-none","d-xl-none","d-xxl-none","titulo","fw-bolder","custom-h-table-mobile","overflow-y-auto"],["alt","Logo",1,"img-logo",2,"height","100%",3,"src"],["scope","col"],[1,"text-justify",3,"click"],[1,"bi","bi-filetype-pdf","m-2"],[1,"mt-auto","p-2",3,"collectionSize","page","pageSize","maxSize","pageChange"],[1,"bi","bi-caret-down-square"],[1,"bi","bi-caret-up-square"],["for","formCheck-9",1,"form-check-label","titulo","d-block","text-center"],[1,"form-check","div-hijo","my-1"],[1,"form-check","text-start"],["id","ambitos","type","radio","name","ambito",1,"form-check-input","rounded-0",3,"value","click"],["for","formCheck-25",1,"form-check-label"],["id","periodos","type","radio","name","periodo",1,"form-check-input","rounded-0",3,"value","click"],["id","partidos","type","radio","name","partidos",1,"form-check-input","rounded-0",3,"value","click"],[1,"align-baseline",3,"click"]],template:function(a,e){1&a&&(t.TgZ(0,"app-base",0)(1,"app-card",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"strong",6),t._uU(7,"Buscador"),t.qZA(),t.TgZ(8,"form",7)(9,"div",8)(10,"button",9),t._UZ(11,"em",10),t.qZA(),t.TgZ(12,"input",11),t.NdJ("keyup.enter",function(){return e.buscarPalabras()}),t.qZA()()(),t.TgZ(13,"a",12),t._uU(14,"B\xfasqueda Avanzada"),t.qZA()(),t.TgZ(15,"div",13)(16,"span",14),t._uU(17,"Resultados"),t.qZA(),t.YNc(18,T,2,1,"div",15),t.TgZ(19,"div",16)(20,"table",17),t._UZ(21,"caption"),t.TgZ(22,"tbody"),t.YNc(23,y,4,1,"tr",15),t.YNc(24,z,5,1,"tr",18),t.qZA()()(),t.TgZ(25,"div",19),t.YNc(26,B,1,4,"ngb-pagination",20),t.qZA()()(),t.TgZ(27,"div",21)(28,"div",22)(29,"a",23),t.NdJ("click",function(){return e.desplegarFiltros()}),t._uU(30,"Filtros "),t.YNc(31,w,1,0,"em",24),t.YNc(32,M,1,0,"em",25),t.qZA(),t.TgZ(33,"form",26)(34,"div",27)(35,"div",28)(36,"strong",6),t._uU(37,"Buscador"),t.qZA(),t.TgZ(38,"form",7)(39,"div",8)(40,"button",9),t._UZ(41,"em",10),t.qZA(),t.TgZ(42,"input",11),t.NdJ("keyup.enter",function(){return e.buscarPalabras()}),t.qZA()()(),t.TgZ(43,"a",12),t._uU(44,"B\xfasqueda Avanzada"),t.qZA()(),t.TgZ(45,"span",29),t._uU(46,"Seleccione al menos una opci\xf3n"),t.qZA(),t.TgZ(47,"div")(48,"span",30),t._uU(49),t.qZA(),t.YNc(50,k,2,1,"label",31),t.TgZ(51,"div",32),t.YNc(52,O,5,2,"div",33),t.qZA()(),t.TgZ(53,"div")(54,"span",30),t._uU(55),t.qZA(),t.YNc(56,N,2,1,"label",31),t.TgZ(57,"div",32),t.YNc(58,F,5,3,"div",33),t.qZA()(),t.TgZ(59,"div")(60,"span",30),t._uU(61),t.qZA(),t.YNc(62,J,2,1,"label",31),t.TgZ(63,"div",32),t.YNc(64,E,5,2,"div",33),t.qZA()(),t.TgZ(65,"a",34),t.NdJ("click",function(){return e.limpiarFiltros()}),t._uU(66,"Limpiar filtros"),t.qZA()()()()(),t.TgZ(67,"div",35)(68,"span",14),t._uU(69,"Resultados"),t.qZA(),t.YNc(70,S,2,1,"div",15),t.TgZ(71,"div",16)(72,"table",17),t._UZ(73,"caption"),t.TgZ(74,"tbody"),t.YNc(75,U,4,1,"tr",15),t.YNc(76,L,5,1,"tr",18),t.qZA()()(),t.TgZ(77,"div",19),t.YNc(78,q,1,4,"ngb-pagination",20),t.qZA()()()()()()),2&a&&(t.Q6J("showBack",!0),t.xp6(8),t.Q6J("formGroup",e.formGroup),t.xp6(10),t.Q6J("ngIf",e.isReady),t.xp6(5),t.Q6J("ngIf",0==e.listadoArchivos.length),t.xp6(1),t.Q6J("ngForOf",e.datosPaginados),t.xp6(2),t.Q6J("ngIf",0!==e.listadoArchivos.length),t.xp6(5),t.Q6J("ngIf",e.desplegarFiltro),t.xp6(1),t.Q6J("ngIf",!e.desplegarFiltro),t.xp6(6),t.Q6J("formGroup",e.formGroup),t.xp6(11),t.hij("\xc1mbitos (",e.ambitos.length,")"),t.xp6(1),t.Q6J("ngIf",0==e.ambitos.length),t.xp6(2),t.Q6J("ngForOf",e.ambitos),t.xp6(3),t.hij("Periodos Temporales (",e.periodos.length,")"),t.xp6(1),t.Q6J("ngIf",0==e.periodos.length),t.xp6(2),t.Q6J("ngForOf",e.periodos),t.xp6(3),t.hij("Partidos Pol\xedticos (",e.partidos.length,")"),t.xp6(1),t.Q6J("ngIf",0==e.partidos.length),t.xp6(2),t.Q6J("ngForOf",e.partidos),t.xp6(6),t.Q6J("ngIf",e.isReady),t.xp6(5),t.Q6J("ngIf",0==e.listadoArchivos.length),t.xp6(1),t.Q6J("ngForOf",e.datosPaginados),t.xp6(2),t.Q6J("ngIf",0!==e.listadoArchivos.length))},dependencies:[b.sg,b.O5,C.H,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,P.N9,Z.A],styles:[".titulo[_ngcontent-%COMP%]{font-size:12px;color:#000}.formulario[_ngcontent-%COMP%]{width:70%}.div-padre[_ngcontent-%COMP%]{font-size:12px}a[_ngcontent-%COMP%]{cursor:pointer}table[_ngcontent-%COMP%]{text-align:left}p[_ngcontent-%COMP%]{cursor:pointer}.bAvanzada[_ngcontent-%COMP%]{color:#000!important}.form-check-input[_ngcontent-%COMP%]:checked[type=radio]{background-image:url(palomita.2af8ccef433889c7.svg);background-color:var(--bs-blue)!important}.buscador[_ngcontent-%COMP%]{border:2px solid black;border-radius:5px}.tituloFiltros[_ngcontent-%COMP%]{width:50%;margin:auto;background:#e8e8e8}.overflow-y-auto[_ngcontent-%COMP%]{overflow-y:auto}.div-padre[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.div-hijo[_ngcontent-%COMP%]{flex-grow:0 0 33%;width:33%;margin:0}@media (min-width: 0px) and (max-width: 1200px){.div-hijo[_ngcontent-%COMP%]{flex-grow:0 0 50%;width:50%;margin:0}}input[_ngcontent-%COMP%]:focus::placeholder{color:transparent}"]}),o})();function G(o,r){1&o&&(t.TgZ(0,"div"),t._UZ(1,"img",19),t.qZA()),2&o&&(t.xp6(1),t.Q6J("src","assets/img/loader.gif",t.LSH))}function Y(o,r){if(1&o&&(t.TgZ(0,"tr")(1,"th",20)(2,"label"),t._uU(3),t.qZA()()()),2&o){const a=t.oxw();t.xp6(3),t.Oqu(a.mensajeNoencontrados)}}function D(o,r){if(1&o){const a=t.EpF();t.TgZ(0,"tr")(1,"p",21),t.NdJ("click",function(){const n=t.CHM(a).$implicit,l=t.oxw();return t.KtG(l.abrirPDF(n.ruta))}),t._UZ(2,"em",22),t.TgZ(3,"strong"),t._uU(4),t.qZA()()()}if(2&o){const a=r.$implicit;t.xp6(4),t.Oqu(a.nombre)}}function j(o,r){if(1&o){const a=t.EpF();t.TgZ(0,"ngb-pagination",23),t.NdJ("pageChange",function(i){t.CHM(a);const n=t.oxw();return t.KtG(n.paginaActual=i)})("pageChange",function(){t.CHM(a);const i=t.oxw();return t.KtG(i.cambiarPagina())}),t.qZA()}if(2&o){const a=t.oxw();t.Q6J("collectionSize",a.datos)("page",a.paginaActual)("pageSize",a.tamanioPag)("maxSize",a.cantPag)}}const Q=[{path:"",redirectTo:"buscador-avanzado",pathMatch:"full"},{path:"resultados",component:(()=>{class o{constructor(a,e,i,n,l,d){this.consultas=a,this.formBuilder=e,this.Pdfservice=i,this.actual=n,this.alertas=l,this.ruta=d,this.listadoArchivos=[],this.datosPaginados=[],this.mensajeNoencontrados="No se encontraron coincidencias",this.palabrasClave="",this.datos=30,this.paginaActual=1,this.tamanioPag=10,this.cantPag=3,this.isReady=!1,this.buildForm(),this.verificarStorage(),""!=this.palabrasClave.trim().replace(/['"]+/g,"")&&(this.formGroup.get("palabras")?.setValue(this.palabrasClave.trim().replace(/['"]+/g,"")),this.buscar())}ngOnInit(){}buildForm(){this.formGroup=this.formBuilder.group({palabras:["",[c.kI.maxLength(150),c.kI.minLength(2)]]})}verificarStorage(){this.palabrasClave=JSON.stringify(localStorage.getItem("palabarasBuscador"))}buscar(){this.formGroup.valid?(this.isReady=!0,this.listadoArchivos=[],this.consultas.consultarArchivosSoloPalabras(this.limpiarCadena()).subscribe(a=>{this.listadoArchivos=a,this.datos=this.listadoArchivos.length,this.cantPag=Math.round(this.listadoArchivos.length/10)>3?3:Math.round(this.listadoArchivos.length/10),this.cambiarPagina(),this.isReady=!1},a=>{this.listadoArchivos=[],this.isReady=!1})):this.alertas.lanzarError("Ingresar una palabra clave  de al menos dos caracteres para poder realizar la b\xfasqueda.","Error en filtros")}abrirPDF(a){this.Pdfservice.abrirPDF(a)}limpiarCadena(){let a=this.formGroup.get("palabras")?.value;for(;","==a[a.length-1];)a=a.substring(0,a.length-1);return a}busquedaAvanzada(){this.ruta.navigate(["../buscador-avanzado"],{relativeTo:this.actual})}mantenerenStorage(){localStorage.setItem("palabarasBuscador",this.limpiarCadena())}cambiarPagina(){this.datosPaginados=this.listadoArchivos.slice((this.paginaActual-1)*this.tamanioPag,(this.paginaActual-1)*this.tamanioPag+this.tamanioPag)}}return o.\u0275fac=function(a){return new(a||o)(t.Y36(f),t.Y36(c.qu),t.Y36(m),t.Y36(h.gz),t.Y36(A.e),t.Y36(h.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-listado"]],decls:24,vars:6,consts:[[3,"showBack"],[1,"wrapper","flex-grow-1"],[1,"row","justify-content-center","m-3"],[1,"col-md-3","col-lg-3","col-sm-12"],[1,"m-1","buscador",3,"formGroup"],[1,"d-flex","align-items-center","form-group","border-0"],["type","button","disabled","",1,"btn","disabled","border-0","shadow-none","d-flex","justify-content-center","align-items-center"],[1,"bi","bi-search"],["type","search","placeholder","Palabra(s) clave(s)","formControlName","palabras",1,"form-control","border-0","shadow-none",3,"keyup.enter"],[1,"d-block","text-end","fw-bolder","text-dark","bAvanzada",3,"click"],[1,"col-md-2","col-lg-2","col-sm-12"],[1,"col-7","justify-content-center"],[1,"text-center"],[4,"ngIf"],[1,"table-responsive","m-lg-3","m-md-2","m-sm-1"],[1,"table"],[4,"ngFor","ngForOf"],[1,"d-flex","flex-column","align-items-center"],["class","mt-auto p-2",3,"collectionSize","page","pageSize","maxSize","pageChange",4,"ngIf"],["alt","Logo",1,"img-logo",2,"height","100%",3,"src"],["id","mensaje"],[1,"text-justify",3,"click"],[1,"bi","bi-filetype-pdf","m-2"],[1,"mt-auto","p-2",3,"collectionSize","page","pageSize","maxSize","pageChange"]],template:function(a,e){1&a&&(t.TgZ(0,"app-base",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"form",4)(5,"div",5)(6,"button",6),t._UZ(7,"em",7),t.qZA(),t.TgZ(8,"input",8),t.NdJ("keyup.enter",function(){return e.buscar()}),t.qZA()()(),t.TgZ(9,"a",9),t.NdJ("click",function(){return e.busquedaAvanzada()}),t._uU(10,"B\xfasqueda Avanzada"),t.qZA()(),t._UZ(11,"div",10),t.TgZ(12,"div",11)(13,"span",12),t._uU(14,"Buscador"),t.qZA()(),t.YNc(15,G,2,1,"div",13),t.TgZ(16,"div",14)(17,"table",15),t._UZ(18,"caption"),t.TgZ(19,"tbody"),t.YNc(20,Y,4,1,"tr",13),t.YNc(21,D,5,1,"tr",16),t.qZA()(),t.TgZ(22,"div",17),t.YNc(23,j,1,4,"ngb-pagination",18),t.qZA()()()()()),2&a&&(t.Q6J("showBack",!0),t.xp6(4),t.Q6J("formGroup",e.formGroup),t.xp6(11),t.Q6J("ngIf",e.isReady),t.xp6(5),t.Q6J("ngIf",0==e.datosPaginados.length),t.xp6(1),t.Q6J("ngForOf",e.datosPaginados),t.xp6(2),t.Q6J("ngIf",0!==e.listadoArchivos.length))},dependencies:[b.sg,b.O5,C.H,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,P.N9],styles:["span[_ngcontent-%COMP%]{color:#21409a!important;font-family:Arial,Helvetica,sans-serif!important;text-align:center;font-size:24px;font-weight:700}.buscador[_ngcontent-%COMP%]{border:2px solid black;border-radius:5px}p[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{cursor:pointer}input[_ngcontent-%COMP%]:focus::placeholder{color:transparent}.bAvanzada[_ngcontent-%COMP%]{color:#000!important}strong[_ngcontent-%COMP%]{font-size:12px!important;font-family:Arial,Helvetica,sans-serif}"]}),o})()},{path:"buscador-avanzado",component:I}];let R=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[h.Bz.forChild(Q),h.Bz]}),o})()},5270:(x,_,s)=>{s.r(_),s.d(_,{BuscadorModule:()=>v});var h=s(6895),c=s(8725),t=s(8522),u=s(433),p=s(1165),f=s(6175),g=s(1571);let v=(()=>{class m{}return m.\u0275fac=function(b){return new(b||m)},m.\u0275mod=g.oAB({type:m}),m.\u0275inj=g.cJS({imports:[h.ez,c.G,t.BaseModule,u.UX,p.IJ,f.AccessModule]}),m})()},6189:(x,_,s)=>{s.d(_,{e:()=>u});var h=s(5226),c=s.n(h),t=s(1571);let u=(()=>{class p{lanzarError(g,v){c().fire({icon:"error",title:v,text:g})}lanzarSucces(g){c().fire("Good job!",g,"success")}}return p.\u0275fac=function(g){return new(g||p)},p.\u0275prov=t.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()}}]);